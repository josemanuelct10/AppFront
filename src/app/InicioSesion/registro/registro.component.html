<div class="container">
  <div class="card">
    <div class="card-header">
      <img src="assets/logos/logo.png" alt="Logo de Pescadería" class="mb-2" width="100px">
      <h4>Registrarse</h4>
    </div>
    <div class="card-body">
      <form [formGroup]="formRegistro" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="name">Nombre</label>
          <input type="text" class="form-control" id="name" formControlName="nombre" name="name" required>
          <div *ngIf="formRegistro.get('nombre')?.invalid && (formRegistro.get('nombre')?.dirty || formRegistro.get('nombre')?.touched)" class="invalid-feedback d-block">
            <i class="fa-solid fa-xmark"></i> Nombre es requerido.
          </div>
        </div>

        <div class="form-group">
          <label for="email">Correo Electrónico</label>
          <input type="email" class="form-control" id="email" formControlName="email" name="email" required>
          <div *ngIf="formRegistro.get('email')?.invalid && (formRegistro.get('email')?.dirty || formRegistro.get('email')?.touched)" class="invalid-feedback d-block">
            <div *ngIf="formRegistro.get('email')?.errors?.['required']">
              <i class="fa-solid fa-xmark"></i> Email es requerido.
            </div>
            <div *ngIf="formRegistro.get('email')?.errors?.['email']">
              <i class="fa-solid fa-xmark"></i> Email no es válido.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="dni">DNI</label>
          <input type="text" class="form-control" id="dni" formControlName="dni" name="dni" required>
          <div *ngIf="formRegistro.get('dni')?.invalid && formRegistro.get('dni')?.touched" class="invalid-feedback d-block">
            <div *ngIf="formRegistro.get('dni')?.errors?.['required']">
              <i class="fa-solid fa-xmark"></i> DNI es requerido.
            </div>
            <div *ngIf="!formRegistro.get('dni')?.errors?.['required'] && formRegistro.get('dni')?.errors?.['dniFormatoInvalido']">
              <i class="fa-solid fa-xmark"></i> El formato del DNI no es válido.
            </div>
            <div *ngIf="!formRegistro.get('dni')?.errors?.['required'] && formRegistro.get('dni')?.errors?.['dniInvalido']">
              <i class="fa-solid fa-xmark"></i> La letra del DNI no coincide.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="password">Contraseña</label>
          <input type="password" class="form-control" id="password" formControlName="password" name="password" required>
          <div *ngIf="formRegistro.get('password')?.invalid && formRegistro.get('password')?.touched" class="invalid-feedback d-block">
            <div *ngIf="formRegistro.get('password')?.errors?.['required']">
              <i class="fa-solid fa-xmark"></i> La contraseña es requerida.
            </div>
            <div *ngIf="!formRegistro.get('password')?.errors?.['required'] && formRegistro.get('password')?.errors?.['passwordStrength']">
              <i class="fa-solid fa-xmark"></i> La contraseña debe tener una minúscula, una mayúscula y un número y más de 8 caracteres.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="fecha_nacimiento">Fecha de Nacimiento</label>
          <input type="date" class="form-control" id="fecha_nacimiento" formControlName="fechaNacimiento" name="fecha_nacimiento" required>
          <div *ngIf="formRegistro.get('fechaNacimiento')?.invalid && (formRegistro.get('fechaNacimiento')?.dirty || formRegistro.get('fechaNacimiento')?.touched)" class="invalid-feedback d-block">
            <div *ngIf="formRegistro.get('fechaNacimiento')?.errors?.['required']">
              <i class="fa-solid fa-xmark"></i> Fecha de Nacimiento es requerida.
            </div>
            <div *ngIf="formRegistro.get('fechaNacimiento')?.errors?.['underage']">
              <i class="fa-solid fa-xmark"></i> Debes ser mayor de 18 años.
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="telefono">Teléfono</label>
          <input type="text" class="form-control" id="telefono" formControlName="telefono" name="telefono" required>
          <div *ngIf="formRegistro.get('telefono')?.invalid && (formRegistro.get('telefono')?.dirty || formRegistro.get('telefono')?.touched)" class="invalid-feedback d-block">
            <div *ngIf="formRegistro.get('telefono')?.errors?.['required']"><i class="fa-solid fa-xmark"></i> Teléfono es requerido.</div>
            <div *ngIf="formRegistro.get('telefono')?.errors?.['pattern']"><i class="fa-solid fa-xmark"></i> Teléfono debe tener 9 dígitos.</div>
          </div>
        </div>

        <div class="form-group">
          <label for="direccion">Dirección</label>
          <input type="text" class="form-control" id="direccion" formControlName="direccion" name="direccion" required>
          <div *ngIf="formRegistro.get('direccion')?.invalid && (formRegistro.get('direccion')?.dirty || formRegistro.get('direccion')?.touched)" class="invalid-feedback d-block">
            <i class="fa-solid fa-xmark"></i> Dirección es requerida.
          </div>
        </div>

        <input type="submit" class="btn btn-primary" style="background-color: #052659;" [disabled]="formRegistro.invalid" value="Registrarse">
      </form>

            <router-outlet></router-outlet>
          </div>
          <div class="mt-3">
            <p>¿Ya tienes una cuenta? <a [routerLink]="['/']">Inicia Sesión aquí</a>.</p>
          </div>
        </div>

</div>
